{"version":3,"sources":["images/3a.png","history.js","components/Navbar.jsx","components/WelcomePopup.jsx","styles/snapStyles.js","components/SnapPreview.jsx","components/Map.jsx","components/Toolbar.jsx","components/Search.jsx","components/Filter.jsx","components/Login.jsx","components/NewSnap.jsx","components/Signup.jsx","components/Profile.jsx","components/SnapDetail.jsx","components/Footer.jsx","components/SnapEdit.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","createBrowserHistory","Navbar","state","dropdown","eventHandler","setState","logout","axios","get","then","response","console","log","props","setUser","catch","err","Fragment","className","to","src","logo","onClick","this","user","Component","WelcomePopup","categoryColor","category","creation","color","fromMiliseconds","Date","getTime","timeDifference","now","colorNumber","SnapPreview","snap","message","currentTime","snapTime","created_at","timeDiff","hours","parseInt","minutes","snapId","id","data","style","backgroundColor","image","alt","title","height","_id","MAPBOX_TOKEN","process","Map","viewport","latitude","longitude","zoom","popupInfo","_onViewportChange","getSnaps","snaps","snapsData","length","map","location","lat","lng","creationDate","renderPopup","closePopup","closeWindows","history","push","width","mapStyle","onViewportChange","mapboxApiAccessToken","float","marginTop","padding","positionOptions","enableHighAccuracy","trackUserLocation","key","snapImage","snapTitle","snapCreated","anchor","dynamicPosition","closeButton","Toolbar","Search","search","htmlFor","type","Filter","name","value","Login","username","password","handleChange","event","target","handleSubmit","preventDefault","post","autoComplete","onChange","Geocode","setApiKey","NewSnap","page","description","snapError","loading","address","goNext","componentDidMount","navigator","geolocation","getCurrentPosition","coords","fromLatLng","results","formatted_address","goBack","assignCategory","fromAddress","geometry","refresh","emptyError","uploadImage","e","files","FormData","append","fetch","method","body","res","json","responseData","secure_url","display","placeholder","ref","fileInput","click","onSubmit","Signup","Profile","snapData","getData","parentNode","getAttribute","innerText","delete","SnapDetail","match","params","Footer","SnapEdit","img","patch","updateLocation","App","userObj","exact","path","component","render","React","Boolean","window","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.37b46bab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/3a.834d966c.png\";","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport logo from \"../images/3a.png\";\n\nclass Navbar extends Component {\n  state = {\n    dropdown: false\n    // user: \"\"\n  };\n\n  eventHandler = () => {\n    this.setState({\n      dropdown: !this.state.dropdown\n    });\n    this.setState({\n      dropdown: !this.state.dropdown\n    });\n  };\n\n  // componentDidMount() {\n  //   this.setState({\n  //     user: this.props.user\n  //   });\n  // }\n\n  // componentDidUpdate() {\n  //   this.setState({\n  //     user: this.props.user\n  //   });\n  // }\n\n  logout = () => {\n    axios\n      .get(\"/auth/logout\")\n      .then(response => {\n        console.log(response);\n        this.props.setUser(null);\n      })\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"navbar\">\n          <div>\n            <Link to=\"/home\">\n              <img className=\"logo\" src={logo} />\n            </Link>\n          </div>\n          <button onClick={this.eventHandler}>User</button>\n        </div>\n        {this.state.dropdown && !this.props.user && (\n          <div className=\"dropdown\">\n            <Link to=\"/login\">Login</Link>\n            <Link to=\"/signup\">Signup</Link>\n          </div>\n        )}\n        {this.state.dropdown && this.props.user && (\n          <div className=\"dropdown\">\n            <Link to=\"/profile\">Profile</Link>\n            <Link to=\"/home\" onClick={this.logout}>\n              Logout\n            </Link>\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Navbar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst WelcomePopup = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"welcomePopup\">\n        <h1>OiSnap!</h1>\n        <p>\n          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nisi,\n          accusantium libero id neque modi in at tempora quas, deserunt iure\n          enim aspernatur? Asperiores nulla aperiam ad. Explicabo quos placeat\n          neque.\n        </p>\n        <button>\n          <Link to=\"/home\">START</Link>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default WelcomePopup;\n","const categoryColor = (category, creation) => {\n  if (!category) return {};\n  let color = \"\";\n\n  let maxTime = 86400000; // This number is 24 hours in ms\n  let fromMiliseconds = new Date().getTime();\n\n  if (creation) {\n    fromMiliseconds = new Date(creation).getTime();\n  }\n\n  let startMiliseconds = Date.now();\n\n  let timeDifference = startMiliseconds - fromMiliseconds;\n  if (timeDifference <= 0) timeDifference = 1;\n\n  let colorNumber = (timeDifference / maxTime) * 100; // A number from 0-100\n\n  switch (category) {\n    case \"promo\":\n      color = `rgb(255, ${colorNumber + 50}, ${colorNumber + 50})`;\n      break;\n    case \"happening\":\n      color = `rgb(${colorNumber + 100}, ${colorNumber + 100}, ${colorNumber +\n        100})`;\n      break;\n    case \"crowd\":\n      color = `rgb(255, 255, ${colorNumber})`;\n      break;\n    case \"free\":\n      color = `rgb(${colorNumber}, ${colorNumber + 204}, ${colorNumber})`;\n      break;\n\n    default:\n      color = `rgb(242, 242, 242)`;\n  }\n\n  return color;\n};\n\nexport default categoryColor;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nimport categoryColor from \"../styles/snapStyles\";\n\nclass SnapPreview extends Component {\n  state = {\n    snap: null,\n    message: null\n  };\n\n  componentDidMount() {\n    const snapId = this.props.id;\n\n    axios\n      .get(`/snaps/${snapId}`)\n      .then(response => {\n        this.setState({\n          snap: response.data\n        });\n      })\n      .catch(err => {\n        this.setState({\n          message: err\n        });\n      });\n  }\n\n  getTime = snap => {\n    const currentTime = new Date();\n    const snapTime = new Date(snap.created_at);\n\n    let timeDiff = currentTime.getTime() - snapTime.getTime();\n\n    let hours = parseInt(timeDiff / (1000 * 3600));\n    let minutes = parseInt(timeDiff / (1000 * 60));\n\n    if (hours > 1) {\n      return hours + \" hours \";\n    } else if (hours === 1) {\n      return hours + \" hour \";\n    } else if (minutes > 1) {\n      return minutes + \" minutes \";\n    } else {\n      return minutes + \" minute \";\n    }\n  };\n\n  render() {\n    const snap = this.state.snap;\n    console.log(\"snap\", snap);\n\n    if (!snap) {\n      return <div>LOADING</div>;\n    } else {\n      return (\n        <div\n          className=\"preview\"\n          style={{\n            backgroundColor: categoryColor(\n              this.state.snap.category,\n              this.state.snap.created_at\n            )\n          }}\n        >\n          <div className=\"snap-box\">\n            <div className=\"time-box\">\n              <p>Created {this.getTime(snap)} ago</p>\n            </div>\n            <div className=\"snap-img\">\n              <img\n                src={snap.image}\n                alt={snap.title}\n                style={{ height: \"150px\" }}\n              />\n            </div>\n            <div className=\"details-box\">\n              <h2>{snap.title}</h2>\n              <Link to={`/snaps/${snap._id}`}>View more</Link>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default SnapPreview;\n","import React, { Component } from \"react\";\nimport MapGL, { GeolocateControl, Marker, Popup } from \"react-map-gl\";\nimport SnapPreview from \"./SnapPreview.jsx\";\n\nimport history from \"../history\";\nimport categoryColor from \"../styles/snapStyles.js\";\n\nconst MAPBOX_TOKEN = `${process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}`;\n\nconst geolocateStyle = {\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  margin: 10\n};\n\nexport default class Map extends Component {\n  state = {\n    viewport: {\n      latitude: 52.520007,\n      longitude: 13.404954,\n      zoom: 12\n    },\n    popupInfo: null\n  };\n\n  _onViewportChange = viewport => this.setState({ viewport });\n\n  // onGeolocate = () => map.fitBoundsOptions({ maxZoom: 15 });\n\n  getSnaps = () => {\n    let snaps = [];\n    if (this.props.snapsData.length !== 0) {\n      snaps = this.props.snapsData.map(snap => {\n        return {\n          _id: snap._id,\n          latitude: snap.location.lat,\n          longitude: snap.location.lng,\n          category: snap.category,\n          creationDate: snap.created_at\n        };\n      });\n    }\n\n    return snaps;\n  };\n\n  renderPopup = snap => {\n    this.setState({\n      popupInfo: snap\n    });\n  };\n\n  closePopup = () => {\n    this.setState({\n      popupInfo: null\n    });\n  };\n\n  closeWindows = () => {\n    history.push(\"/home\");\n  };\n\n  render() {\n    const { viewport } = this.state;\n\n    const geolocateStyle = {\n      float: \"left\",\n      marginTop: \"100px\",\n      padding: \"10px\"\n    };\n\n    return (\n      <MapGL\n        {...viewport}\n        width=\"100vw\"\n        height=\"100vh\"\n        mapStyle=\"mapbox://styles/mialav/ck7brnzxa0mg01invkw6jqlvj\"\n        onViewportChange={this._onViewportChange}\n        mapboxApiAccessToken={MAPBOX_TOKEN}\n        className=\"mapContainer\"\n        onClick={this.closeWindows}\n      >\n        <div className=\"geolocation-button\">\n          <GeolocateControl\n            style={geolocateStyle}\n            positionOptions={{ enableHighAccuracy: true }}\n            trackUserLocation={true}\n            onViewportChange={viewport => {\n              this.setState({ viewport: { ...viewport, zoom: 16 } });\n            }}\n          />\n        </div>\n\n        {this.getSnaps().map(snap => {\n          return (\n            <Marker\n              key={snap._id}\n              latitude={snap.latitude}\n              longitude={snap.longitude}\n              snapImage={snap.image}\n              snapTitle={snap.title}\n              snapCreated={snap.created_at}\n            >\n              <span\n                style={{\n                  color: categoryColor(snap.category, snap.creationDate)\n                }}\n              >\n                <i\n                  className=\"fas fa-map-marker-alt\"\n                  onClick={() => this.renderPopup(snap)}\n                ></i>\n              </span>\n\n              {/* <img\n                className=\"marker\"\n                alt=\"marker\"\n                src={require(\"../images/mapbox-icon.png\")}\n                onClick={() => this.renderPopup(snap)}\n\n\n              />\n\n\n              /> */}\n            </Marker>\n          );\n        })}\n        {this.state.popupInfo !== null ? (\n          <Popup\n            anchor=\"bottom-left\"\n            latitude={this.state.popupInfo.latitude}\n            longitude={this.state.popupInfo.longitude}\n            dynamicPosition={true}\n            closeButton={false}\n            style={{\n              backgroundColor: `${categoryColor(\n                this.state.popupInfo.category,\n                this.state.popupInfo.created_at\n              )}`\n            }}\n          >\n            <div onClick={this.closePopup}>\n              <SnapPreview id={this.state.popupInfo._id} />\n            </div>\n          </Popup>\n        ) : null}\n      </MapGL>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Toolbar = () => {\n  return (\n    <div className=\"toolbar\">\n      {/* <button>\n        <Link to=\"/filter\">Filter</Link>\n      </button> */}\n      <button>\n        <Link to=\"/add\">\n          <div className=\"addSnap\">\n            <i className=\"fas fa-camera\"></i>\n          </div>\n        </Link>\n      </button>\n      {/* <button>\n        <Link to=\"/search\">Search</Link>\n      </button> */}\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, { Component } from \"react\";\n\nclass Search extends Component {\n  state = {\n    search: \"\"\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div>\n          {/* form */}\n          <label htmlFor=\"search\">Search location:</label>\n          <input type=\"text\" />\n          <button>Go</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\n\nclass Filter extends Component {\n  render() {\n    return (\n      <div className=\"filters\">\n        <div>\n          <div>\n            <input type=\"checkbox\" id=\"\" name=\"free\" value=\"\" />\n            <label htmlFor=\"free\"> FREE </label>\n          </div>\n          <div>\n            <input type=\"checkbox\" id=\"\" name=\"happening\" value=\"\" />\n            <label htmlFor=\"happening\"> HAPPENING </label>\n          </div>\n          <div>\n            <input type=\"checkbox\" id=\"\" name=\"crowd\" value=\"\" />\n            <label htmlFor=\"crowd\"> CROWD </label>\n          </div>\n          <div>\n            <input type=\"checkbox\" id=\"\" name=\"promo\" value=\"\" />\n            <label htmlFor=\"promo\"> PROMO </label>\n          </div>\n        </div>\n        <div>\n          <button>GO</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Filter;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    console.log(\"Submit was clicked\");\n    event.preventDefault();\n\n    axios\n      .post(\"/auth/login\", {\n        username: this.state.username,\n        password: this.state.password\n      })\n      .then(response => {\n        console.log(response);\n        this.props.setUser(response.data);\n        this.props.history.push(\"/home\");\n      })\n      .catch(err => {\n        console.log(err.response.data.message);\n        this.setState({\n          message: err.response.data.message\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"detail-page\">\n          <form>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              id=\"username\"\n              name=\"username\"\n              type=\"text\"\n              autoComplete=\"username\"\n              onChange={this.handleChange}\n              value={this.state.username}\n            />\n\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              onChange={this.handleChange}\n              value={this.state.password}\n            />\n\n            <button type=\"submit\" onClick={this.handleSubmit}>\n              Log in\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Login from \"./Login\";\nimport Geocode from \"react-geocode\";\nimport categoryColor from \"../styles/snapStyles\";\n\nGeocode.setApiKey(process.env.REACT_APP_GOOGLE_API);\n\nclass NewSnap extends Component {\n  state = {\n    page: 1,\n    category: null,\n    message: \"\",\n    location: \"\",\n    title: \"\",\n    description: \"\",\n    snapError: \"\",\n    loading: false,\n    image: null,\n    address: \"\"\n  };\n\n  goNext = () => {\n    if (this.state.category && this.state.image) {\n      this.setState({\n        page: 2,\n        message: \"\"\n      });\n    } else {\n      this.setState({\n        message: \"can you just..?\"\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    if (!this.props.user) {\n      this.props.history.push(\"/login\");\n    }\n    console.log();\n    navigator.geolocation.getCurrentPosition(response => {\n      let location = {\n        lat: response.coords.latitude,\n        lng: response.coords.longitude\n      };\n\n      console.log(location);\n      Geocode.fromLatLng(location.lat, location.lng)\n        .then(response => {\n          this.setState({\n            location: location,\n            address: response.results[0].formatted_address\n          });\n        })\n        .catch(err => console.log(err));\n    });\n  };\n\n  goBack = () => {\n    this.setState({\n      page: 1\n    });\n  };\n\n  assignCategory = event => {\n    const category = event.target.value;\n\n    this.setState({\n      category: category\n    });\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.title === \"\" || !this.state.location) {\n      this.setState({\n        message: \"PLEEEEEEASE\"\n      });\n    } else {\n      //axios\n\n      Geocode.fromAddress(this.state.address)\n        .then(response => {\n          console.log(response);\n          axios\n            .post(\"/snaps/\", {\n              title: this.state.title,\n              description: this.state.description,\n              category: this.state.category,\n\n              address: this.state.address,\n              location: response.results[0].geometry.location,\n              image: this.state.image\n            })\n            .then(response => {\n              console.log(\"Snap was sent!\");\n              console.log(response);\n              this.props.refresh();\n              // call update data method from app.js\n              this.props.history.push(`/snaps/${response.data._id}`);\n            })\n            .catch(err => {\n              this.setState({\n                emptyError: err.response.data.message\n              });\n            });\n        })\n        .catch(err => console.log(err));\n    }\n  };\n\n  uploadImage = e => {\n    const files = e.target.files;\n    const data = new FormData();\n    data.append(\"file\", files[0]);\n    data.append(\"upload_preset\", \"oisnap\");\n\n    this.setState({\n      loading: true\n    });\n\n    fetch(\"https://api.cloudinary.com/v1_1/oisnap/image/upload\", {\n      method: \"POST\",\n      body: data\n    })\n      .then(res => {\n        return res.json();\n      })\n      .then(responseData => {\n        this.setState({\n          image: responseData.secure_url,\n          loading: false\n        });\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({\n          snapError: \"Couldn't upload the image, please try again\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          className=\"container\"\n          style={{ backgroundColor: categoryColor(this.state.category) }}\n        >\n          <button onClick={this.goBack} className=\"page-button\">\n            {\" \"}\n            BACK{\" \"}\n          </button>\n          <button onClick={this.goNext} className=\"page-button\">\n            {\" \"}\n            NEXT{\" \"}\n          </button>\n\n          <p>Step {this.state.page} out of 2 </p>\n\n          {/* /* ***PAGE 1 upload and category *** */}\n          {this.state.page === 1 && (\n            <div className=\"page photo-page\">\n              <input\n                style={{ display: \"none\" }}\n                type=\"file\"\n                name=\"file\"\n                placeholder=\"Upload an image\"\n                onChange={this.uploadImage}\n                ref={fileInput => (this.fileInput = fileInput)}\n              />\n              <button onClick={() => this.fileInput.click()}>\n                Upload image\n              </button>\n              {this.state.loading ? (\n                <h3>Loading </h3>\n              ) : (\n                <img\n                  src={this.state.image}\n                  style={{ height: \"30vh\" }}\n                  alt={this.state.title}\n                />\n              )}\n              <button onClick={this.assignCategory} value=\"free\">\n                FREE\n              </button>\n              <button onClick={this.assignCategory} value=\"promo\">\n                PROMO\n              </button>\n              <button onClick={this.assignCategory} value=\"crowd\">\n                CROWD\n              </button>\n              <button onClick={this.assignCategory} value=\"happening\">\n                HAPPENING\n              </button>\n            </div>\n          )}\n          {this.state.message && <p>{this.state.message}</p>}\n\n          {/* /* *************  PAGE 2 snap details************* */}\n\n          {this.state.page === 2 && (\n            <div className=\"page detail-page\">\n              <form onSubmit={this.handleSubmit}>\n                <label htmlFor=\"title\">Snap title *</label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  value={this.state.title}\n                  onChange={this.handleChange}\n                />\n                <label htmlFor=\"description\"> Short description</label>\n                <input\n                  type=\"text\"\n                  name=\"description\"\n                  id=\"description\"\n                  value={this.state.description}\n                  onChange={this.handleChange}\n                />\n                <label htmlFor=\"address\"> Location </label>\n                <input\n                  type=\"text\"\n                  name=\"address\"\n                  id=\"address\"\n                  value={this.state.address}\n                  onChange={this.handleChange}\n                />\n                <button type=\"submit\"> Add to</button>\n              </form>\n              {this.state.title ? <p></p> : <p>can titile?</p>}\n              {this.state.snapError && <p>{this.state.snapError}</p>}\n            </div>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default NewSnap;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    console.log(\"Submit was clicked\");\n    event.preventDefault();\n\n    axios\n      .post(\"/auth/signup\", {\n        username: this.state.username,\n        password: this.state.password\n      })\n      .then(response => {\n        console.log(response);\n        this.props.setUser(response.data);\n        this.props.history.push(\"/home\");\n      })\n      .catch(err => {\n        console.log(err.response.data.message);\n        this.setState({\n          message: err.response.data.message\n        });\n      });\n  };\n\n  render() {\n    console.log(this.props);\n\n    return (\n      <div className=\"container\">\n        <div className=\"detail-page\">\n          <form>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              id=\"username\"\n              name=\"username\"\n              type=\"text\"\n              autoComplete=\"username\"\n              onChange={this.handleChange}\n              value={this.state.username}\n            />\n\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              onChange={this.handleChange}\n              value={this.state.password}\n            />\n\n            {this.state.message && <p>{this.state.message}</p>}\n\n            <button type=\"submit\" onClick={this.handleSubmit}>\n              Sign Up\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class Profile extends Component {\n  state = { snapData: [] };\n\n  getData = () => {\n    axios\n      .get(`/snaps?user=${this.props.user._id}`)\n      .then(response => {\n        console.log(response);\n        this.setState({ snapData: response.data });\n      })\n      .catch(err => console.log(err));\n  };\n  componentDidMount = () => {\n    if (!this.props.user) {\n      this.props.history.push(\"/login\");\n    }\n    this.getData();\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    console.log(event.target.parentNode.getAttribute(\"id\"));\n    if (event.target.innerText === \"Edit\") {\n      this.props.history.push(\n        `/snaps/${event.target.parentNode.getAttribute(\"id\")}/edit`\n      );\n    } else if (event.target.innerText === \"Delete\") {\n      axios\n        .delete(`/snaps/${event.target.parentNode.getAttribute(\"id\")}`)\n        .then(response => {\n          console.log(response);\n          this.getData();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h3>{this.props.user.username}'s Profile</h3>\n        <h4>Your current snaps</h4>\n        <div className=\"user-snaps\">\n          {this.state.snapData?.map(snap => {\n            return (\n              <div id={snap._id} key={snap._id}>\n                <img src={snap.image} alt={snap.title} />\n                <Link to={`/snaps/${snap._id}`}>{snap.title}</Link>\n                <button onClick={this.handleSubmit}>Edit</button>\n                <button onClick={this.handleSubmit}>Delete</button>\n              </div>\n            );\n          })}\n          {this.state.snapData.length === 0 && (\n            <p>\n              Nothing here yet... <br /> Time to{\" \"}\n              <Link to=\"/add\">post a snap!</Link>{\" \"}\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport categoryColor from \"../styles/snapStyles\";\n\nclass SnapDetail extends Component {\n  state = {\n    snap: null,\n    message: null\n  };\n\n  componentDidMount() {\n    const snapId = this.props.match.params.id;\n\n    axios\n      .get(`/snaps/${snapId}`)\n      .then(response => {\n        this.setState({\n          snap: response.data\n        });\n      })\n      .catch(err => {\n        this.setState({\n          message: err\n        });\n      });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    console.log(this.props.match.params.id);\n    console.log(this.props.history);\n\n    if (event.target.innerText === \"Edit\") {\n      this.props.history.push(`/snaps/${this.props.match.params.id}/edit`);\n    } else if (event.target.innerText === \"Delete\") {\n      axios\n        .delete(`/snaps/${this.props.match.params.id}`)\n        .then(response => {\n          console.log(response);\n          this.props.history.push(\"/home\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  };\n\n  getTime = snap => {\n    const currentTime = new Date();\n    const snapTime = new Date(snap.created_at);\n\n    let timeDiff = currentTime.getTime() - snapTime.getTime();\n\n    let hours = parseInt(timeDiff / (1000 * 3600));\n    let minutes = parseInt(timeDiff / (1000 * 60));\n\n    if (hours > 1) {\n      return hours + \" hours \";\n    } else if (hours === 1) {\n      return hours + \" hour \";\n    } else if (minutes > 1) {\n      return minutes + \" minutes \";\n    } else {\n      return minutes + \" minute \";\n    }\n  };\n\n  render() {\n    const snap = this.state.snap;\n\n    if (!snap) {\n      return <div>LOADING</div>;\n    } else {\n\n      console.log(this.state.snap.category);\n      console.log(categoryColor(this.state.snap));\n\n\n      return (\n        <div\n          className=\"container\"\n          style={{\n            backgroundColor: categoryColor(\n              this.state.snap.category,\n              this.state.snap.created_at\n            )\n          }}\n        >\n          <div className=\"snap-box\">\n            <div className=\"time-box\">\n              <p>Created {this.getTime(snap)} ago</p>\n            </div>\n            <div className=\"snap-img\">\n              <img\n                src={snap.image}\n                alt={snap.title}\n                style={{ height: \"40vh\" }}\n              />\n            </div>\n            <div className=\"details-box\">\n              <h2>{snap.title}</h2>\n              {snap.description !== \"\" && <p>{snap.description}</p>}\n              {this.props.user._id === snap.user && (\n                <div>\n                  <button onClick={this.handleSubmit}>Edit</button>\n                  <button onClick={this.handleSubmit}>Delete</button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default SnapDetail;\n","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer>\n        <p>Ironhack Â© Karo Mia Nora</p>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Geocode from \"react-geocode\";\nimport categoryColor from \"../styles/snapStyles\";\nGeocode.setApiKey(process.env.REACT_APP_GOOGLE_API);\n\nexport default class SnapEdit extends Component {\n  state = {\n    user: \"\",\n    title: \"\",\n    description: \"\",\n    location: \"\",\n    category: \"\",\n    img: \"\",\n    creationDate: \"\",\n    address: \"\"\n  };\n\n  componentDidMount() {\n    axios\n      .get(`/snaps/${this.props.match.params.id}`)\n      .then(response => {\n        this.setState({\n          user: response.data.user,\n          title: response.data.title,\n          description: response.data.description,\n          category: response.data.category,\n          img: response.data.image,\n          creationDate: response.created_at,\n          address: response.data.address,\n          location: response.data.location\n        });\n      })\n      .catch(err => {\n        this.setState({\n          message: err\n        });\n      });\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    console.log(this.state.address);\n    Geocode.fromAddress(this.state.location)\n      .then(response => {\n        console.log(response);\n        axios\n          .patch(`/snaps/${this.props.match.params.id}`, {\n            ...this.state,\n            location: response.results[0].geometry.location\n          })\n          .then(response => {\n            console.log(response);\n            this.props.history.push(`/snaps/${this.props.match.params.id}`);\n          })\n          .catch(err => console.log(err.message));\n      })\n      .catch(err => console.log(err));\n  };\n\n  assignCategory = event => {\n    event.preventDefault();\n    this.setState({\n      category: event.target.value\n    });\n  };\n\n  updateLocation = event => {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(response => {\n      let location = {\n        lat: response.coords.latitude,\n        lng: response.coords.longitude\n      };\n\n      Geocode.fromLatLng(location.lat, location.lng)\n        .then(response => {\n          this.setState({\n            location: location,\n            address: response.results[0].formatted_address\n          });\n        })\n        .catch(err => console.log(err));\n    });\n  };\n\n  render() {\n    console.log(this.state.address);\n    return (\n      <div\n        className=\"container\"\n        style={{\n          backgroundColor: `${categoryColor(\n            this.state.category,\n            this.state.creationDate\n          )}`\n        }}\n      >\n        {this.props.user._id === this.state.user ? (\n          <React.Fragment>\n            <h3>Edit your Snap</h3>\n\n            <img\n              src={this.state.img}\n              alt={this.state.title}\n              style={{ height: \"40vh\" }}\n            />\n            <p>\n              <i>You cannot edit the picture once it was posted.</i>\n            </p>\n            {/* className=\"page detail-page\" */}\n            <div>\n              <form>\n                <label htmlFor=\"title\">Snap title</label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  value={this.state.title}\n                  onChange={this.handleChange}\n                />\n                <br />\n                <label htmlFor=\"description\"> Short description</label>\n                <input\n                  type=\"text\"\n                  name=\"description\"\n                  id=\"description\"\n                  value={this.state.description}\n                  onChange={this.handleChange}\n                />\n\n                <label htmlFor=\"address\"> Location </label>\n                <input\n                  type=\"text\"\n                  name=\"address\"\n                  id=\"address\"\n                  value={this.state.address}\n                  onChange={this.handleChange}\n                />\n                <button onClick={this.updateLocation}>Update Location</button>\n\n                <p>Current Category: {this.state.category}</p>\n                <button onClick={this.assignCategory} value=\"free\">\n                  FREE\n                </button>\n                <button onClick={this.assignCategory} value=\"promo\">\n                  PROMO\n                </button>\n                <button onClick={this.assignCategory} value=\"crowd\">\n                  CROWD\n                </button>\n                <button onClick={this.assignCategory} value=\"happening\">\n                  HAPPENING\n                </button>\n\n                <br />\n                <button onClick={this.handleSubmit}>Save Changes</button>\n              </form>\n            </div>\n          </React.Fragment>\n        ) : (\n          <p>You need to be the owner of the snap to edit it</p>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\nimport history from \"./history\";\n\nimport Navbar from \"./components/Navbar\";\nimport WelcomePopup from \"./components/WelcomePopup\";\nimport Map from \"./components/Map\";\nimport Toolbar from \"./components/Toolbar\";\nimport Search from \"./components/Search\";\nimport Filter from \"./components/Filter\";\nimport NewSnap from \"./components/NewSnap\";\nimport Signup from \"./components/Signup\";\nimport Login from \"./components/Login\";\nimport Profile from \"./components/Profile\";\nimport SnapDetail from \"./components/SnapDetail\";\n\nimport Footer from \"./components/Footer\";\n\nimport SnapPreview from \"./components/SnapPreview\";\nimport SnapEdit from \"./components/SnapEdit\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n    data: []\n  };\n\n  setUser = userObj => {\n    this.setState({ user: userObj });\n  };\n\n  getData = () => {\n    axios\n      .get(\"/snaps\")\n      .then(response => {\n        this.setState({\n          data: response.data\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount = () => {\n    this.getData();\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Router history={history}>\n          <div className=\"map\">\n            <Map snapsData={this.state.data} />\n          </div>\n          <div className=\"body\">\n            <Navbar user={this.state.user} setUser={this.setUser} />\n            <div className=\"body-view\">\n              <Switch>\n                <Route exact path=\"/search\" component={Search} />\n                <Route exact path=\"/filter\" component={Filter} />\n                <Route\n                  exact\n                  path=\"/add\"\n                  render={props => (\n                    <NewSnap\n                      user={this.state.user}\n                      refresh={this.getData}\n                      history={props.history}\n                    />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/signup\"\n                  render={props => (\n                    <Signup setUser={this.setUser} history={props.history} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/login\"\n                  render={props => (\n                    <Login setUser={this.setUser} history={props.history} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/profile\"\n                  render={props => (\n                    <Profile user={this.state.user} history={props.history} />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/snaps/:id/edit\"\n                  render={props => (\n                    <SnapEdit user={this.state.user} {...props} />\n                  )}\n                />\n                <Route\n                  path=\"/snaps/:id\"\n                  render={props => (\n                    <SnapDetail {...props} user={this.state.user} />\n                  )}\n                />\n\n                <Route\n                  path=\"/snaps/:id/preview\"\n                  render={props => (\n                    <SnapPreview {...props} user={this.state.user} />\n                  )}\n                />\n\n                <Route exact path=\"/\" component={WelcomePopup} />\n              </Switch>\n            </div>\n            <Switch>\n              <Route exact path=\"/\" component={Footer} />\n              <Toolbar />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Geocode from \"react-geocode\";\n\n// set Google Maps Geocoding API for purposes of quota management. Its optional but recommended.\nGeocode.setApiKey(\"AIzaSyBh2aAsK418Q4BEEbtSafeh353MvH-EjsQ\");\n\naxios.get(\"/auth/loggedin\").then(response => {\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={response.data} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}